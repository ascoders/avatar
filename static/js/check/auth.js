"use strict";define("auth",["jquery"],function(){return avalon.define({$id:"auth",onChange:function(e){post("/api/check/auth",{id:e.query.id,expire:e.query.expire,type:e.query.type,extend:e.query.extend,sign:e.query.sign},null,"",function(a){a.image=userImage(a.image),avalon.vmodels.global.my=a,avalon.vmodels.global.myLogin=!0,avalon.vmodels.auth.todo(e.query.type,e.query.extend)},function(){avalon.router.navigate("/")})},onAfterLoad:function(){},todo:function(e){switch(e){case"email":avalon.router.navigate("/user/account/email");break;case"createAccount":avalon.router.navigate("/")}},$skipArray:["onChange","onAfterLoad","todo"]})});